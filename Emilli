
-- Main interface setup
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local MinimizedButton = Instance.new("TextButton")
local CloseButton = Instance.new("TextButton")
local TrollTab = Instance.new("TextButton")
local PlayerTab = Instance.new("TextButton")
local OthersTab = Instance.new("TextButton")
local MinimizedIcon = Instance.new("ImageButton")

-- Set up the main interface
ScreenGui.Name = "CustomScript"
ScreenGui.Parent = game.CoreGui

Frame.Name = "MainFrame"
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(255, 182, 193) -- Hearts theme
Frame.Position = UDim2.new(0.5, -150, 0.5, -100)
Frame.Size = UDim2.new(0, 300, 0, 200)

MinimizedButton.Name = "MinimizeButton"
MinimizedButton.Parent = Frame
MinimizedButton.Text = "Minimize"
MinimizedButton.Size = UDim2.new(0, 100, 0, 30)
MinimizedButton.Position = UDim2.new(0, 10, 0, 160)

CloseButton.Name = "CloseButton"
CloseButton.Parent = Frame
CloseButton.Text = "Close"
CloseButton.Size = UDim2.new(0, 100, 0, 30)
CloseButton.Position = UDim2.new(0, 120, 0, 160)

TrollTab.Name = "TrollTab"
TrollTab.Parent = Frame
TrollTab.Text = "Troll"
TrollTab.Size = UDim2.new(0, 80, 0, 30)
TrollTab.Position = UDim2.new(0, 10, 0, 10)

PlayerTab.Name = "PlayerTab"
PlayerTab.Parent = Frame
PlayerTab.Text = "Player"
PlayerTab.Size = UDim2.new(0, 80, 0, 30)
PlayerTab.Position = UDim2.new(0, 100, 0, 10)

OthersTab.Name = "OthersTab"
OthersTab.Parent = Frame
OthersTab.Text = "Others"
OthersTab.Size = UDim2.new(0, 80, 0, 30)
OthersTab.Position = UDim2.new(0, 190, 0, 10)

-- Minimized state button (Image "E")
MinimizedIcon.Name = "MinimizedIcon"
MinimizedIcon.Parent = ScreenGui
MinimizedIcon.Image = "rbxassetid://YOUR_ASSET_ID" -- Replace with your "E" image asset ID
MinimizedIcon.Size = UDim2.new(0, 50, 0, 50)
MinimizedIcon.Position = UDim2.new(0.5, -25, 0.5, -25)
MinimizedIcon.Visible = false
MinimizedIcon.BackgroundTransparency = 1

-- Dragging functionality for the minimized button
local UIS = game:GetService("UserInputService")
local dragging = false
local dragStart, startPos

MinimizedIcon.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MinimizedIcon.Position
    end
end)

MinimizedIcon.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

UIS.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = input.Position - dragStart
        MinimizedIcon.Position = UDim2.new(
            startPos.X.Scale,
            startPos.X.Offset + delta.X,
            startPos.Y.Scale,
            startPos.Y.Offset + delta.Y
        )
    end
end)

-- Restore the interface when clicking on the minimized icon
MinimizedIcon.MouseButton1Click:Connect(function()
    Frame.Visible = true
    MinimizedIcon.Visible = false
end)

-- Minimize button functionality
MinimizedButton.MouseButton1Click:Connect(function()
    Frame.Visible = false
    MinimizedIcon.Visible = true
end)

-- Close button functionality
CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

-- Implement "Others" options
local OthersFrame = Instance.new("Frame")
OthersFrame.Name = "OthersFrame"
OthersFrame.Parent = ScreenGui
OthersFrame.BackgroundColor3 = Color3.fromRGB(240, 240, 240)
OthersFrame.Size = UDim2.new(0, 300, 0, 200)
OthersFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
OthersFrame.Visible = false

local FlyFrame = Instance.new("Frame")
FlyFrame.Parent = OthersFrame
FlyFrame.BackgroundColor3 = Color3.fromRGB(200, 200, 255)
FlyFrame.Size = UDim2.new(0, 280, 0, 80)
FlyFrame.Position = UDim2.new(0, 10, 0, 10)

local FlySpeedInput = Instance.new("TextBox")
FlySpeedInput.Parent = FlyFrame
FlySpeedInput.PlaceholderText = "Enter Fly Speed"
FlySpeedInput.Size = UDim2.new(0, 260, 0, 30)
FlySpeedInput.Position = UDim2.new(0, 10, 0, 10)

local FlyActivateButton = Instance.new("TextButton")
FlyActivateButton.Parent = FlyFrame
FlyActivateButton.Text = "Activate Fly"
FlyActivateButton.Size = UDim2.new(0, 120, 0, 30)
FlyActivateButton.Position = UDim2.new(0, 10, 0, 50)

local FlyDeactivateButton = Instance.new("TextButton")
FlyDeactivateButton.Parent = FlyFrame
FlyDeactivateButton.Text = "Deactivate Fly"
FlyDeactivateButton.Size = UDim2.new(0, 120, 0, 30)
FlyDeactivateButton.Position = UDim2.new(0, 140, 0, 50)

OthersTab.MouseButton1Click:Connect(function()
    Frame.Visible = false -- Hide main frame
    OthersFrame.Visible = true -- Show OthersFrame
end)

FlyActivateButton.MouseButton1Click:Connect(function()
    -- Fly logic here
end)

FlyDeactivateButton.MouseButton1Click:Connect(function()
    -- Fly deactivation logic here
end)
